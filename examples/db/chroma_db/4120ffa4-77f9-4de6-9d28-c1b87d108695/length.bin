# gcloud dataproc clusters create Â |Â  Google Cloud CLI Documentation

*Source: [https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create)*

**NAME**

: **gcloud dataproc clusters create - create a cluster**

**SYNOPSIS**

: **`gcloud dataproc clusters create` (`[CLUSTER](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#CLUSTER)` : `[--region](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--region)`=`REGION`) [`[--action-on-failed-primary-workers](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--action-on-failed-primary-workers)`=`ACTION_ON_FAILED_PRIMARY_WORKERS`] [`[--async](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--async)`] [`[--autoscaling-policy](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--autoscaling-policy)`=`AUTOSCALING_POLICY`] [`[--bucket](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--bucket)`=`BUCKET`] [`[--cluster-type](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--cluster-type)`=`TYPE`] [`[--confidential-compute](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--confidential-compute)`] [`[--dataproc-metastore](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--dataproc-metastore)`=`DATAPROC_METASTORE`] [`[--driver-pool-accelerator](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--driver-pool-accelerator)`=[`type`=`TYPE`,[`count`=`COUNT`],â€¦]] [`[--driver-pool-boot-disk-size](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--driver-pool-boot-disk-size)`=`DRIVER_POOL_BOOT_DISK_SIZE`] [`[--driver-pool-boot-disk-type](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--driver-pool-boot-disk-type)`=`DRIVER_POOL_BOOT_DISK_TYPE`] [`[--driver-pool-id](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--driver-pool-id)`=`DRIVER_POOL_ID`] [`[--driver-pool-local-ssd-interface](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--driver-pool-local-ssd-interface)`=`DRIVER_POOL_LOCAL_SSD_INTERFACE`] [`[--driver-pool-machine-type](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--driver-pool-machine-type)`=`DRIVER_POOL_MACHINE_TYPE`] [`[--driver-pool-min-cpu-platform](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--driver-pool-min-cpu-platform)`=`PLATFORM`] [`[--driver-pool-size](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--driver-pool-size)`=`DRIVER_POOL_SIZE`] [`[--enable-component-gateway](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--enable-component-gateway)`] [`[--initialization-action-timeout](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--initialization-action-timeout)`=`TIMEOUT`; default="10m"] [`[--initialization-actions](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--initialization-actions)`=`CLOUD_STORAGE_URI`,[â€¦]] [`[--labels](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--labels)`=[`KEY`=`VALUE`,â€¦]] [`[--master-accelerator](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--master-accelerator)`=[`type`=`TYPE`,[`count`=`COUNT`],â€¦]] [`[--master-boot-disk-provisioned-iops](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--master-boot-disk-provisioned-iops)`=`MASTER_BOOT_DISK_PROVISIONED_IOPS`] [`[--master-boot-disk-provisioned-throughput](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--master-boot-disk-provisioned-throughput)`=`MASTER_BOOT_DISK_PROVISIONED_THROUGHPUT`] [`[--master-boot-disk-size](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--master-boot-disk-size)`=`MASTER_BOOT_DISK_SIZE`] [`[--master-boot-disk-type](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--master-boot-disk-type)`=`MASTER_BOOT_DISK_TYPE`] [`[--master-local-ssd-interface](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--master-local-ssd-interface)`=`MASTER_LOCAL_SSD_INTERFACE`] [`[--master-machine-type](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--master-machine-type)`=`MASTER_MACHINE_TYPE`] [`[--master-min-cpu-platform](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--master-min-cpu-platform)`=`PLATFORM`] [`[--min-secondary-worker-fraction](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--min-secondary-worker-fraction)`=`MIN_SECONDARY_WORKER_FRACTION`] [`[--node-group](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--node-group)`=`NODE_GROUP`] [`[--num-driver-pool-local-ssds](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--num-driver-pool-local-ssds)`=`NUM_DRIVER_POOL_LOCAL_SSDS`] [`[--num-master-local-ssds](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--num-master-local-ssds)`=`NUM_MASTER_LOCAL_SSDS`] [`[--num-masters](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--num-masters)`=`NUM_MASTERS`] [`[--num-secondary-worker-local-ssds](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--num-secondary-worker-local-ssds)`=`NUM_SECONDARY_WORKER_LOCAL_SSDS`] [`[--num-worker-local-ssds](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--num-worker-local-ssds)`=`NUM_WORKER_LOCAL_SSDS`] [`[--optional-components](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--optional-components)`=[`COMPONENT`,â€¦]] [`[--private-ipv6-google-access-type](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--private-ipv6-google-access-type)`=`PRIVATE_IPV6_GOOGLE_ACCESS_TYPE`] [`[--properties](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--properties)`=[`PREFIX`:`[PROPERTY](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#PROPERTY)`=`VALUE`,â€¦]] [`[--secondary-worker-accelerator](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--secondary-worker-accelerator)`=[`type`=`TYPE`,[`count`=`COUNT`],â€¦]] [`[--secondary-worker-boot-disk-size](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--secondary-worker-boot-disk-size)`=`SECONDARY_WORKER_BOOT_DISK_SIZE`] [`[--secondary-worker-boot-disk-type](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--secondary-worker-boot-disk-type)`=`SECONDARY_WORKER_BOOT_DISK_TYPE`] [`[--secondary-worker-local-ssd-interface](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--secondary-worker-local-ssd-interface)`=`SECONDARY_WORKER_LOCAL_SSD_INTERFACE`] [`[--secondary-worker-machine-types](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--secondary-worker-machine-types)`=`type`=`MACHINE_TYPE`[,`type`=`MACHINE_TYPE`â€¦][,`rank`=`RANK`]] [`[--secondary-worker-standard-capacity-base](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--secondary-worker-standard-capacity-base)`=`SECONDARY_WORKER_STANDARD_CAPACITY_BASE`] [`[--secondary-worker-standard-capacity-percent-above-base](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--secondary-worker-standard-capacity-percent-above-base)`=`SECONDARY_WORKER_STANDARD_CAPACITY_PERCENT_ABOVE_BASE`] [`[--shielded-integrity-monitoring](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--shielded-integrity-monitoring)`] [`[--shielded-secure-boot](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--shielded-secure-boot)`] [`[--shielded-vtpm](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--shielded-vtpm)`] [`[--stop-max-idle](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--stop-max-idle)`=`STOP_MAX_IDLE`] [`[--temp-bucket](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--temp-bucket)`=`TEMP_BUCKET`] [`[--worker-accelerator](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--worker-accelerator)`=[`type`=`TYPE`,[`count`=`COUNT`],â€¦]] [`[--worker-boot-disk-provisioned-iops](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--worker-boot-disk-provisioned-iops)`=`WORKER_BOOT_DISK_PROVISIONED_IOPS`] [`[--worker-boot-disk-provisioned-throughput](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--worker-boot-disk-provisioned-throughput)`=`WORKER_BOOT_DISK_PROVISIONED_THROUGHPUT`] [`[--worker-boot-disk-size](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--worker-boot-disk-size)`=`WORKER_BOOT_DISK_SIZE`] [`[--worker-boot-disk-type](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--worker-boot-disk-type)`=`WORKER_BOOT_DISK_TYPE`] [`[--worker-local-ssd-interface](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--worker-local-ssd-interface)`=`WORKER_LOCAL_SSD_INTERFACE`] [`[--worker-min-cpu-platform](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--worker-min-cpu-platform)`=`PLATFORM`] [`[--zone](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--zone)`=`ZONE`, `[-z](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#-z)` `[ZONE](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#ZONE)`] [`[--delete-expiration-time](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--delete-expiration-time)`=`DELETE_EXPIRATION_TIME` Â Â Â Â | `[--delete-max-age](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--delete-max-age)`=`DELETE_MAX_AGE` Â Â Â Â | `[--expiration-time](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--expiration-time)`=`EXPIRATION_TIME` Â Â Â Â | `[--max-age](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--max-age)`=`MAX_AGE`] [`[--delete-max-idle](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--delete-max-idle)`=`DELETE_MAX_IDLE` Â Â Â Â | `[--max-idle](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--max-idle)`=`MAX_IDLE`] [`[--gce-pd-kms-key](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--gce-pd-kms-key)`=`GCE_PD_KMS_KEY` : `[--gce-pd-kms-key-keyring](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--gce-pd-kms-key-keyring)`=`GCE_PD_KMS_KEY_KEYRING` `[--gce-pd-kms-key-location](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--gce-pd-kms-key-location)`=`GCE_PD_KMS_KEY_LOCATION` `[--gce-pd-kms-key-project](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--gce-pd-kms-key-project)`=`GCE_PD_KMS_KEY_PROJECT`] [`[--identity-config-file](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--identity-config-file)`=`IDENTITY_CONFIG_FILE` Â Â Â Â | `[--secure-multi-tenancy-user-mapping](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--secure-multi-tenancy-user-mapping)`=`SECURE_MULTI_TENANCY_USER_MAPPING`] [`[--image](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--image)`=`IMAGE` Â Â Â Â | `[--image-version](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--image-version)`=`VERSION`] [`[--kerberos-config-file](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--kerberos-config-file)`=`KERBEROS_CONFIG_FILE` Â Â Â Â | `[--enable-kerberos](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--enable-kerberos)` `[--kerberos-root-principal-password-uri](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--kerberos-root-principal-password-uri)`=`KERBEROS_ROOT_PRINCIPAL_PASSWORD_URI` [`[--kerberos-kms-key](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--kerberos-kms-key)`=`KERBEROS_KMS_KEY` : `[--kerberos-kms-key-keyring](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--kerberos-kms-key-keyring)`=`KERBEROS_KMS_KEY_KEYRING` `[--kerberos-kms-key-location](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--kerberos-kms-key-location)`=`KERBEROS_KMS_KEY_LOCATION` `[--kerberos-kms-key-project](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--kerberos-kms-key-project)`=`KERBEROS_KMS_KEY_PROJECT`]] [`[--kms-key](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--kms-key)`=`KMS_KEY` : `[--kms-keyring](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--kms-keyring)`=`KMS_KEYRING` `[--kms-location](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--kms-location)`=`KMS_LOCATION` `[--kms-project](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--kms-project)`=`KMS_PROJECT`] [`[--metadata](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--metadata)`=`KEY`=`VALUE`,[`[KEY](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#KEY)`=`VALUE`,â€¦] `[--resource-manager-tags](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--resource-manager-tags)`=`KEY`=`VALUE`,[`[KEY](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#KEY)`=`VALUE`,â€¦] `[--scopes](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--scopes)`=`SCOPE`,[`[SCOPE](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#SCOPE)`,â€¦] `[--service-account](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--service-account)`=`SERVICE_ACCOUNT` `[--tags](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--tags)`=`TAG`,[`[TAG](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#TAG)`,â€¦] `[--network](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--network)`=`NETWORK` Â Â Â Â | `[--subnet](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--subnet)`=`SUBNET` `[--reservation](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--reservation)`=`RESERVATION` `[--reservation-affinity](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--reservation-affinity)`=`RESERVATION_AFFINITY`; default="any"] [[`[--metric-sources](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--metric-sources)`=[`METRIC_SOURCE`,â€¦] : `[--metric-overrides](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--metric-overrides)`=[`METRIC_SOURCE`:`[INSTANCE](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#INSTANCE)`:`[GROUP](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#GROUP)`:`[METRIC](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#METRIC)`,â€¦] | `[--metric-overrides-file](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--metric-overrides-file)`=`METRIC_OVERRIDES_FILE`]] [`[--no-address](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--address)` Â Â Â Â | `[--public-ip-address](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--public-ip-address)`] [`[--single-node](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--single-node)` Â Â Â Â | `[--min-num-workers](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--min-num-workers)`=`MIN_NUM_WORKERS` `[--num-secondary-workers](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--num-secondary-workers)`=`NUM_SECONDARY_WORKERS` `[--num-workers](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--num-workers)`=`NUM_WORKERS` `[--secondary-worker-type](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--secondary-worker-type)`=`TYPE`; default="preemptible"] [`[--stop-expiration-time](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--stop-expiration-time)`=`STOP_EXPIRATION_TIME` Â Â Â Â | `[--stop-max-age](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--stop-max-age)`=`STOP_MAX_AGE`] [`[--worker-machine-type](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--worker-machine-type)`=`WORKER_MACHINE_TYPE` Â Â Â Â | `[--worker-machine-types](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#--worker-machine-types)`=`type`=`MACHINE_TYPE`[,`type`=`MACHINE_TYPE`â€¦][,`rank`=`RANK`]] [`[GCLOUD_WIDE_FLAG](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/create#GCLOUD-WIDE-FLAGS) â€¦`]**

**DESCRIPTION**

: Create a cluster.

**EXAMPLES**

: To create a cluster, run:

```
gcloud dataproc clusters create my-cluster --region=us-central1
```

**POSITIONAL ARGUMENTS**

: **Cluster resource - The name of the cluster to create. The arguments in this
group can be used to specify the attributes of this resource. (NOTE) Some
attributes are not given arguments in this group but can be set in other ways.
To set the `project` attribute:

- provide the argument `cluster` on the command line with a fully
specified name;
- provide the argument `--project` on the command line;
- set the property `core/project`.

This must be specified.

**`CLUSTER`**:
ID of the cluster or fully qualified identifier for the cluster.
To set the `cluster` attribute:

- provide the argument `cluster` on the command line.

This positional argument must be specified if any of the other arguments in this
group are specified.

**--region**:
Dataproc region for the cluster. Each Dataproc region constitutes an independent
resource namespace constrained to deploying instances into Compute Engine zones
inside the region. Overrides the default `dataproc/region` property
value for this command invocation.
To set the `region` attribute:

- provide the argument `cluster` on the command line with a fully
specified name;
- provide the argument `--region` on the command line;
- set the property `dataproc/region`.**

**FLAGS**

: **--action-on-failed-primary-workers**:
Failure action to take when primary workers fail during cluster creation.
`ACTION_ON_FAILED_PRIMARY_WORKERS` must be one of:

**`DELETE`**:
delete the failed primary workers

**`FAILURE_ACTION_UNSPECIFIED`**:
failure action is not specified

**`NO_ACTION`**:
take no action

**--async**:
Return immediately, without waiting for the operation in progress to complete.

**--autoscaling-policy**:
ID of the autoscaling policy or fully qualified identifier for the autoscaling
policy.
To set the `autoscaling_policy` attribute:

- provide the argument `--autoscaling-policy` on the command line.

**--bucket**:
The Google Cloud Storage bucket to use by default to stage job dependencies,
miscellaneous config files, and job driver console output when using this
cluster.

**--cluster-type**:
The type of cluster. `TYPE` must be one of:
`standard`, `single-node`, `zero-scale`.

**--confidential-compute**:
Enables Confidential VM. See [https://cloud.google.com/compute/confidential-vm/docs](https://cloud.google.com/compute/confidential-vm/docs)
for more information. Note that Confidential VM can only be enabled when the
machine types are N2D
(https://cloud.google.com/compute/docs/machine-types#n2d_machine_types) and the
image is SEV Compatible.

**--dataproc-metastore**:
Specify the name of a Dataproc Metastore service to be used as an external
metastore in the format:
"projects/{project-id}/locations/{region}/services/{service-name}".

**--driver-pool-accelerator**:
Attaches accelerators, such as GPUs, to the driver-pool instance(s).

**`type`**:
The specific type of accelerator to attach to the instances, such as
`nvidia-tesla-t4` for NVIDIA T4. Use `gcloud compute
accelerator-types list` to display available accelerator types.

**`count`**:
The number of accelerators to attach to each instance. The default value is 1.

**--driver-pool-boot-disk-size**:
The size of the boot disk. The value must be a whole number followed by a size
unit of ``KB`` for kilobyte,
``MB`` for megabyte,
``GB`` for gigabyte, or
``TB`` for terabyte. For example,
``10GB`` will produce a 10 gigabyte disk. The
minimum size a boot disk can have is 10 GB. Disk size must be a multiple of 1
GB.

**--driver-pool-boot-disk-type**:
The type of the boot disk. The value must be `pd-balanced`,
`pd-ssd`, or `pd-standard`.

**--driver-pool-id**:
Custom identifier for the DRIVER Node Group being created. If not provided, a
random string is generated.

**--driver-pool-local-ssd-interface**:
Interface to use to attach local SSDs to cluster driver pool node(s).

**--driver-pool-machine-type**:
The type of machine to use for the cluster driver pool nodes. Defaults to
server-specified.

**--driver-pool-min-cpu-platform**:
When specified, the VM is scheduled on the host with a specified CPU
architecture or a more recent CPU platform that's available in that zone. To
list available CPU platforms in a zone, run:

```
gcloud compute zones describe ZONE
```

CPU platform selection may not be available in a zone. Zones that support CPU
platform selection provide an `availableCpuPlatforms` field, which
contains the list of available CPU platforms in the zone (see [Availability
of CPU platforms](https://cloud.google.com/compute/docs/instances/specify-min-cpu-platform#availablezones) for more information).

**--driver-pool-size**:
The size of the cluster driver pool.

**--enable-component-gateway**:
Enable access to the web UIs of selected components on the cluster through the
component gateway.

**--initialization-action-timeout**:
The maximum duration of each initialization action. See $ [gcloud topic datetimes](https://cloud.google.com/sdk/gcloud/reference/topic/datetimes) for
information on duration formats.

**--initialization-actions**:
A list of Google Cloud Storage URIs of executables to run on each node in the
cluster.

**--labels**:
List of label KEY=VALUE pairs to add.
Keys must start with a lowercase character and contain only hyphens
(`-`), underscores (`_`), lowercase characters, and
numbers. Values must contain only hyphens (`-`), underscores
(`_`), lowercase characters, and numbers.

**--master-accelerator**:
Attaches accelerators, such as GPUs, to the master instance(s).

**`type`**:
The specific type of accelerator to attach to the instances, such as
`nvidia-tesla-t4` for NVIDIA T4. Use `gcloud compute
accelerator-types list` to display available accelerator types.

**`count`**:
The number of accelerators to attach to each instance. The default value is 1.

**--master-boot-disk-provisioned-iops**:
Indicates the [IOPS](https://cloud.google.com/compute/docs/disks/hyperdisks#iops) to
provision for the disk. This sets the limit for disk I/O operations per second.
This is only supported if the bootdisk type is [hyperdisk-balanced](https://cloud.google.com/compute/docs/disks/hyperdisks).

**--master-boot-disk-provisioned-throughput**:
Indicates the [throughput](https://cloud.google.com/compute/docs/disks/hyperdisks#throughput)
to provision for the disk. This sets the limit for throughput in MiB per second.
This is only supported if the bootdisk type is [hyperdisk-balanced](https://cloud.google.com/compute/docs/disks/hyperdisks).

**--master-boot-disk-size**:
The size of the boot disk. The value must be a whole number followed by a size
unit of ``KB`` for kilobyte,
``MB`` for megabyte,
``GB`` for gigabyte, or
``TB`` for terabyte. For example,
``10GB`` will produce a 10 gigabyte disk. The
minimum size a boot disk can have is 10 GB. Disk size must be a multiple of 1
GB.

**--master-boot-disk-type**:
The type of the boot disk. The value must be `pd-balanced`,
`pd-ssd`, or `pd-standard`.

**--master-local-ssd-interface**:
Interface to use to attach local SSDs to master node(s) in a cluster.

**--master-machine-type**:
The type of machine to use for the master. Defaults to server-specified.

**--master-min-cpu-platform**:
When specified, the VM is scheduled on the host with a specified CPU
architecture or a more recent CPU platform that's available in that zone. To
list available CPU platforms in a zone, run:

```
gcloud compute zones describe ZONE
```

CPU platform selection may not be available in a zone. Zones that support CPU
platform selection provide an `availableCpuPlatforms` field, which
contains the list of available CPU platforms in the zone (see [Availability
of CPU platforms](https://cloud.google.com/compute/docs/instances/specify-min-cpu-platform#availablezones) for more information).

**--min-secondary-worker-fraction**:
Minimum fraction of secondary worker nodes required to create the cluster. If it
is not met, cluster creation will fail. Must be a decimal value between 0 and 1.
The number of required secondary workers is calculated by
ceil(min-secondary-worker-fraction * num_secondary_workers). Defaults to 0.0001.

**--node-group**:
The name of the sole-tenant node group to create the cluster on. Can be a short
name ("node-group-name") or in the format
"projects/{project-id}/zones/{zone}/nodeGroups/{node-group-name}".

**--num-driver-pool-local-ssds**:
The number of local SSDs to attach to each cluster driver pool node.

**--num-master-local-ssds**:
The number of local SSDs to attach to the master in a cluster.

**--num-masters**:
The number of master nodes in the cluster.

| Number of Masters | Cluster Mode |
| --- | --- |
| 1 | Standard |
| 3 | High Availability |

**--num-secondary-worker-local-ssds**:
The number of local SSDs to attach to each preemptible worker in a cluster.

**--num-worker-local-ssds**:
The number of local SSDs to attach to each worker in a cluster.

**--optional-components**:
List of optional components to be installed on cluster machines.
The following page documents the optional components that can be installed: [https://cloud.google.com/dataproc/docs/concepts/configuring-clusters/optional-components](https://cloud.google.com/dataproc/docs/concepts/configuring-clusters/optional-components).

**--private-ipv6-google-access-type**:
The private IPv6 Google access type for the cluster.
`PRIVATE_IPV6_GOOGLE_ACCESS_TYPE` must be one of:
`inherit-subnetwork`, `outbound`,
`bidirectional`.

**--properties**:
Specifies configuration properties for installed packages, such as Hadoop and
Spark.
Properties are mapped to configuration files by specifying a prefix, such as
"core:io.serializations". The following are supported prefixes and their
mappings:

| Prefix | File | Purpose of file |
| --- | --- | --- |
| capacity-scheduler | capacity-scheduler.xml | Hadoop YARN Capacity Scheduler configuration |
| core | core-site.xml | Hadoop general configuration |
| distcp | distcp-default.xml | Hadoop Distributed Copy configuration |
| hadoop-env | hadoop-env.sh | Hadoop specific environment variables |
| hdfs | hdfs-site.xml | Hadoop HDFS configuration |
| hive | hive-site.xml | Hive configuration |
| mapred | mapred-site.xml | Hadoop MapReduce configuration |
| mapred-env | mapred-env.sh | Hadoop MapReduce specific environment variables |
| pig | pig.properties | Pig configuration |
| spark | spark-defaults.conf | Spark configuration |
| spark-env | spark-env.sh | Spark specific environment variables |
| yarn | yarn-site.xml | Hadoop YARN configuration |
| yarn-env | yarn-env.sh | Hadoop YARN specific environment variables |

See [https://cloud.google.com/dataproc/docs/concepts/configuring-clusters/cluster-properties](https://cloud.google.com/dataproc/docs/concepts/configuring-clusters/cluster-properties)
for more information.

**--secondary-worker-accelerator**:
Attaches accelerators, such as GPUs, to the secondary-worker instance(s).

**`type`**:
The specific type of accelerator to attach to the instances, such as
`nvidia-tesla-t4` for NVIDIA T4. Use `gcloud compute
accelerator-types list` to display available accelerator types.

**`count`**:
The number of accelerators to attach to each instance. The default value is 1.

**--secondary-worker-boot-disk-size**:
The size of the boot disk. The value must be a whole number followed by a size
unit of ``KB`` for kilobyte,
``MB`` for megabyte,
``GB`` for gigabyte, or
``TB`` for terabyte. For example,
``10GB`` will produce a 10 gigabyte disk. The
minimum size a boot disk can have is 10 GB. Disk size must be a multiple of 1
GB.

**--secondary-worker-boot-disk-type**:
The type of the boot disk. The value must be `pd-balanced`,
`pd-ssd`, or `pd-standard`.

**--secondary-worker-local-ssd-interface**:
Interface to use to attach local SSDs to each secondary worker in a cluster.

**--secondary-worker-machine-types**:
Types of machines with optional rank for secondary workers to use. Defaults to
server-specified.eg.
--secondary-worker-machine-types="type=e2-standard-8,type=t2d-standard-8,rank=0"

**--secondary-worker-standard-capacity-base**:
This flag sets the base number of Standard VMs to use for [secondary
workers](https://cloud.google.com/dataproc/docs/concepts/compute/secondary-vms#preemptible_and_non-preemptible_secondary_workers). Dataproc will create only standard VMs until it reaches this
number, then it will mix Spot and Standard VMs according to
``SECONDARY_WORKER_STANDARD_CAPACITY_PERCENT_ABOVE_BASE``.

**--secondary-worker-standard-capacity-percent-above-base**:
When combining Standard and Spot VMs for [secondary-workers](https://cloud.google.com/dataproc/docs/concepts/compute/secondary-vms#preemptible_and_non-preemptible_secondary_workers)
once the number of Standard VMs specified by
``SECONDARY_WORKER_STANDARD_CAPACITY_BASE`` has
been used, this flag specifies the percentage of the total number of additional
Standard VMs secondary workers will use. Spot VMs will be used for the remaining
percentage.

**--shielded-integrity-monitoring**:
Enables monitoring and attestation of the boot integrity of the cluster's VMs.
vTPM (virtual Trusted Platform Module) must also be enabled. A TPM is a hardware
module that can be used for different security operations, such as remote
attestation, encryption, and sealing of keys.

**--shielded-secure-boot**:
The cluster's VMs will boot with secure boot enabled.

**--shielded-vtpm**:
The cluster's VMs will boot with the TPM (Trusted Platform Module) enabled. A
TPM is a hardware module that can be used for different security operations,
such as remote attestation, encryption, and sealing of keys.

**--stop-max-idle**:
The duration after the last job completes to auto-stop the cluster, such as "2h"
or "1d". See $ [gcloud topic
datetimes](https://cloud.google.com/sdk/gcloud/reference/topic/datetimes) for information on duration formats.

**--temp-bucket**:
The Google Cloud Storage bucket to use by default to store ephemeral cluster and
jobs data, such as Spark and MapReduce history files.

**--worker-accelerator**:
Attaches accelerators, such as GPUs, to the worker instance(s).

**`type`**:
The specific type of accelerator to attach to the instances, such as
`nvidia-tesla-t4` for NVIDIA T4. Use `gcloud compute
accelerator-types list` to display available accelerator types.

**`count`**:
The number of accelerators to attach to each instance. The default value is 1.

**--worker-boot-disk-provisioned-iops**:
Indicates the [IOPS](https://cloud.google.com/compute/docs/disks/hyperdisks#iops) to
provision for the disk. This sets the limit for disk I/O operations per second.
This is only supported if the bootdisk type is [hyperdisk-balanced](https://cloud.google.com/compute/docs/disks/hyperdisks).

**--worker-boot-disk-provisioned-throughput**:
Indicates the [throughput](https://cloud.google.com/compute/docs/disks/hyperdisks#throughput)
to provision for the disk. This sets the limit for throughput in MiB per second.
This is only supported if the bootdisk type is [hyperdisk-balanced](https://cloud.google.com/compute/docs/disks/hyperdisks).

**--worker-boot-disk-size**:
The size of the boot disk. The value must be a whole number followed by a size
unit of ``KB`` for kilobyte,
``MB`` for megabyte,
``GB`` for gigabyte, or
``TB`` for terabyte. For example,
``10GB`` will produce a 10 gigabyte disk. The
minimum size a boot disk can have is 10 GB. Disk size must be a multiple of 1
GB.

**--worker-boot-disk-type**:
The type of the boot disk. The value must be `pd-balanced`,
`pd-ssd`, or `pd-standard`.

**--worker-local-ssd-interface**:
Interface to use to attach local SSDs to each worker in a cluster.

**--worker-min-cpu-platform**:
When specified, the VM is scheduled on the host with a specified CPU
architecture or a more recent CPU platform that's available in that zone. To
list available CPU platforms in a zone, run:

```
gcloud compute zones describe ZONE
```

CPU platform selection may not be available in a zone. Zones that support CPU
platform selection provide an `availableCpuPlatforms` field, which
contains the list of available CPU platforms in the zone (see [Availability
of CPU platforms](https://cloud.google.com/compute/docs/instances/specify-min-cpu-platform#availablezones) for more information).

**--zone**:
The compute zone (e.g. us-central1-a) for the cluster. If empty and --region is
set to a value other than `global`, the server will pick a zone in
the region. Overrides the default `compute/zone` property value for
this command invocation.

**--delete-expiration-time**

**--delete-max-idle**

**--gce-pd-kms-key**

**--identity-config-file**

**--image**

**--kerberos-config-file**

**--kms-key**

**--metadata**

**--metric-sources**:
Specifies a list of cluster [Metric
Sources](https://cloud.google.com/dataproc/docs/guides/monitoring#available_oss_metrics) to collect custom metrics. `METRIC_SOURCE`
must be one of: `FLINK`, `HDFS`,
`HIVEMETASTORE`, `HIVESERVER2`,
`MONITORING_AGENT_DEFAULTS`, `SPARK`,
`SPARK_HISTORY_SERVER`, `YARN`.

**--metric-overrides**

**--no-address**

**--single-node**

**--stop-expiration-time**

**--worker-machine-type**

**GCLOUD WIDE FLAGS**

: These flags are available to all commands: `[--access-token-file](https://cloud.google.com/sdk/gcloud/reference#--access-token-file)`,
`[--account](https://cloud.google.com/sdk/gcloud/reference#--account)`, `[--billing-project](https://cloud.google.com/sdk/gcloud/reference#--billing-project)`,
`[--configuration](https://cloud.google.com/sdk/gcloud/reference#--configuration)`,
`[--flags-file](https://cloud.google.com/sdk/gcloud/reference#--flags-file)`,
`[--flatten](https://cloud.google.com/sdk/gcloud/reference#--flatten)`, `[--format](https://cloud.google.com/sdk/gcloud/reference#--format)`, `[--help](https://cloud.google.com/sdk/gcloud/reference#--help)`, `[--impersonate-service-account](https://cloud.google.com/sdk/gcloud/reference#--impersonate-service-account)`,
`[--log-http](https://cloud.google.com/sdk/gcloud/reference#--log-http)`,
`[--project](https://cloud.google.com/sdk/gcloud/reference#--project)`, `[--quiet](https://cloud.google.com/sdk/gcloud/reference#--quiet)`, `[--trace-token](https://cloud.google.com/sdk/gcloud/reference#--trace-token)`, `[--user-output-enabled](https://cloud.google.com/sdk/gcloud/reference#--user-output-enabled)`,
`[--verbosity](https://cloud.google.com/sdk/gcloud/reference#--verbosity)`.
Run `$ [gcloud help](https://cloud.google.com/sdk/gcloud/reference)` for details.

**NOTES**

: These variants are also available:

```
gcloud alpha dataproc clusters create
```

```
gcloud beta dataproc clusters create
```c clusters create
```1-timize-utilization' and 'balanced'.
Default is 'balanced'.

**--boot-disk-kms-key**:
The Customer Managed Encryption Key used to encrypt the boot disk attached to
each node in the node pool. This should be of the form
projects/[KEY_PROJECT_ID]/locations/[LOCATION]/keyRings/[RING_NAME]/cryptoKeys/[KEY_NAME].
For more information about protecting resources with Cloud KMS Keys please see:
[https://cloud.google.com/compute/docs/disks/customer-managed-encryption](https://cloud.google.com/compute/docs/disks/customer-managed-encryption)

**--cloud-run-config**:
Configurations for Cloud Run addon, requires `--addons=CloudRun` for
create and `--update-addons=CloudRun=ENABLED` for update.

**`load-balancer-type`**:
(Optional) Type of load-balancer-type EXTERNAL or INTERNAL.
Examples:

```
gcloud container clusters create example-cluster --cloud-run-config=load-balancer-type=INTERNAL
```

**--cluster-ipv4-cidr**:
The IP address range for the pods in this cluster in CIDR notation (e.g.
10.0.0.0/14). Prior to Kubernetes version 1.7.0 this must be a subset of
10.0.0.0/8; however, starting with version 1.7.0 can be any RFC 1918 IP range.
If you omit this option, a range is chosen automatically. The automatically
chosen range is randomly selected from 10.0.0.0/8 and will not include IP
address ranges allocated to VMs, existing routes, or ranges allocated to other
clusters. The automatically chosen range might conflict with reserved IP
addresses, dynamic routes, or routes within VPCs that peer with this cluster.
You should specify `--cluster-ipv4-cidr` to prevent conflicts.
This field is not applicable in a Shared VPC setup where the IP address range
for the pods must be specified with `--cluster-secondary-range-name`

**--cluster-secondary-range-name**:
Set the secondary range to be used as the source for pod IPs. Alias ranges will
be allocated from this secondary range. NAME must be the name of an existing
secondary range in the cluster subnetwork.
Cannot be specified unless '--enable-ip-alias' option is also specified. Cannot
be used with '--create-subnetwork' option.

**--cluster-version**:
The Kubernetes version to use for the master and nodes. Defaults to
server-specified.
The default Kubernetes version is available using the following command.

```
gcloud container get-server-config
```

**--confidential-node-type**:
Enable confidential nodes for the cluster. Enabling Confidential Nodes will
create nodes using Confidential VM [https://cloud.google.com/compute/confidential-vm/docs/about-cvm](https://cloud.google.com/compute/confidential-vm/docs/about-cvm).
`CONFIDENTIAL_NODE_TYPE` must be one of: `sev`,
`sev_snp`, `tdx`.

**--containerd-config-from-file**:
Path of the YAML file that contains containerd configuration entries like
configuring access to private image registries.
For detailed information on the configuration usage, please refer to [https://cloud.google.com/kubernetes-engine/docs/how-to/customize-containerd-configuration](https://cloud.google.com/kubernetes-engine/docs/how-to/customize-containerd-configuration).
Note: Updating the containerd configuration of an existing cluster or node pool
requires recreation of the existing nodes, which might cause disruptions in
running workloads.
Use a full or relative path to a local file containing the value of
containerd_config.

**--create-subnetwork**:
Create a new subnetwork for the cluster. The name and range of the subnetwork
can be customized via optional 'name' and 'range' key-value pairs.
'name' specifies the name of the subnetwork to be created.
'range' specifies the IP range for the new subnetwork. This can either be a
netmask size (e.g. '/20') or a CIDR range (e.g. '10.0.0.0/20'). If a netmask
size is specified, the IP is automatically taken from the free space in the
cluster's network.
Examples:
Create a new subnetwork with a default name and size.

```
gcloud container clusters create --create-subnetwork ""
```

Create a new subnetwork named "my-subnet" with netmask of size 21.

```
gcloud container clusters create --create-subnetwork name=my-subnet,range=/21
```

Create a new subnetwork with a default name with the primary range of
10.100.0.0/16.

```
gcloud container clusters create --create-subnetwork range=10.100.0.0/16
```

Create a new subnetwork with the name "my-subnet" with a default range.

```
gcloud container clusğ ó	ğ 6òğ
ğ #ñ
÷ 
ˆğ ˆ
Ü Ö(‰FˆAˆsÜ˜#œ}Õ-ÙÜ6SĞTWÓ6XĞ3Ø& q™/×6Ñ6ØÜ!*Ø)HĞ(Iô"ğ 7ó ÷ ğ ğ ×!Ñ! #Õ&ğ )ñ ÙÜ—n‘nô 14°LÀ'Ô0Jô	ñ 1KÑ,˜K¨Ü)¨#¬yÔ9ğ $×.Ñ.Ü%Ø-0¯_©_Ğ,=Ø+.¯>©>ôõğ 1Kò	ğ÷ ğ ğ ˜Q‘-Ğñ ó
áô  3§?¡?Ğ"3ÀÇÁÖOØğ 	ğ 
ğ ×.Ñ.É'Ó/RÉ'À3°·³È'Ñ/RÓSˆ
Ù29Ó:±'¨3s—“°'ˆĞ:Ü {¸zÔJˆÜn‰nô 69Ø Ğ"3ô6ôñ6Ñ1KĞ!1ğ ×&Ñ&Ğ'7Õ8ğ6òğ
÷ 	
ğ 	
ñ áFRóÙFR°{”˜{×1Ñ1Ö2ÀlñˆFŒJğ ˆùòU
ğ
ûò
ùóğ
ùğ"ûó	ğûò
ùò 0SùÚ:ùóğ	
úòùsÓ   ‚B/M?Â1MÃ0M?Ã3MÃ4M?Ã<M	ÄM?Ä-'M
ÅM?ÅMÅ 'M?Æ1M?Æ9MÆ:9M?Ç3AM
È>M?ÉM ÉM?É)M#É=M?ÊM(Ê!M?Ê,M-Ê?-M?Ë,M2
ÌM?ÌM8Ì
M?ÌM:Ì7M?Í	M?ÍM?ÍM?Í#M?Í:M?c                ór   — |D cg c]  }|j                  «       ‘Œ }} | j                  |f||dœ|¤S c c}w ©N©r¢   r   )rÎ   r!  ©r™   Úpromptsr¢   r   rw   ÚpÚprompt_messagess          rU   r¨   zBaseChatModel.generate_prompt©  sA   € ñ 5<Ó<±G¨q˜1Ÿ=™=?°GˆĞ<Øˆt}‰}˜_ĞW°4À9ÑWĞPVÑWĞWùò =s   …4c              ‹  ó   K  — |D cg c]  }|j                  «       ‘Œ }} | j                  |f||dœ|¤ƒ d {  –—† S c c}w 7 Œ	­wr*  )rÎ   r(  r,  s          rU   r¬   zBaseChatModel.agenerate_prompt´  sY   è ø€ ñ 5<Ó<±G¨q˜1Ÿ=™=?°GˆĞ<Ø#T—^‘^Øğ
Ø"&°)ñ
Ø?Eñ
÷ 
ğ 	
ùò =ğ
ús   ‚A‡>A¹Aº
Ac                ó@  — t        | j                  t        «      r| j                  n	t        «       }| j                  xs | j                  d u }|ri|rM | j                  dd|i|¤}t        |«      }|j                  ||«      }	t        |	t        «      r&t        |	¬«      S | j                  €nd}
t        |
«      ‚| j                  r| j                  j                  d¬«        | j                  dd|dœ|¤rÃg } | j                  |fd|i|¤D ]”  }t        |«      |j                  _        |re|j                  j"                  €d|j$                  › |j                  _        |j'                  t)        d	|j                  j*                  «      |¬
«       |j-                  |«       Œ– t/        t1        |«      «      }ndt3        j4                  | j6                  «      j8                  j;                  d«      r | j6                  |f||dœ|¤}n | j6                  |fd|i|¤}t=        |j>                  «      D ]X  \  }}|r7|j                  j"                  €!d|j$                  › d|› |j                  _        t        |«      |j                  _        ŒZ tA        |j>                  «      dk(  rY|jB                  Mi |jB                  ¥|j>                  d   j                  j                   ¥|j>                  d   j                  _        |r|r|jE                  |j>                  «       |S )Nr¢   ri   ú8Asked to cache, but no cache found at `langchain.cache`.TrÇ   F©r»   r¯   rÉ   rŸ   rÊ   r¯   r  Ú-rÂ   r   rÍ   )#rZ   Úcacher   r   r  r%   Úlookupr[   r1   rk   r‡   rÔ   r¾   r·   rÖ   rN   rL   rÕ   r¦   r×   r   rK   r_   ro   rq   ÚinspectÚ	signatureÚ	_generateÚ
parametersr]   r\   rT   r  r  Úupdate©r™   r`   r¢   r¯   rw   Ú	llm_cacheÚcheck_cacher  ÚpromptÚ	cache_valrn   rs   rr   Úresultrc   rm   s                   rU   r  z"BaseChatModel._generate_with_cacheÁ  sï  € ô #-¨T¯Z©Z¼Ô"CD—J’JÌËˆ	ğ —j‘jÒ6 D§J¡J°$Ğ$6ˆÙÙØ1˜T×1Ñ1ÑF°tĞF¸vÑF
Ü˜x›Ø%×,Ñ,¨V°ZÓ@	Ü˜i¬Ô.Ü%°)Ô<Ğ<Ø—‘Ğ#ØàPÜ  “oĞ%ğ
 ×ÒØ×Ñ×%Ñ%¨tĞ%Ô4ğ ˆ4×Ñğ 
ØØ#ñ
ğ ò
ğ
 13ˆFØ%˜Ÿ™ hÑD°TĞD¸VÔDÜ2LÈUÓ2S—‘Ô/ÙØ—}‘}×'Ñ'Ğ/Ø-1°+×2DÑ2DĞ1EĞ+F˜Ÿ™Ô(Ø×0Ñ0Ü˜U E§M¡M×$9Ñ$9Ó:À%ğ 1ô ğ —‘˜eÕ$ğ Eô *¬$¨v«,Ó7‰FÜ×Ñ˜tŸ~™~Ó.×9Ñ9×=Ñ=¸mÔLØ#T—^‘^ØğØ#°ñØ@Fñ‰Fğ $T—^‘^ HÑB°4ĞB¸6ÑBˆFô  )¨×);Ñ);Ö<‰OˆCÙ˜z×1Ñ1×4Ñ4Ğ<Ø*.¨{×/AÑ/AĞ.BÀ!ÀCÀ5Ğ(I
×"Ñ"Ô%Ü3MØó4ˆJ×ÑÕ0ğ  =ô ˆv×!Ñ!Ó" aÒ'¨F×,=Ñ,=Ğ,Iğ?Ø×#Ñ#ğ?à×$Ñ$ QÑ'×/Ñ/×AÑAğ?ˆF×Ñ˜qÑ!×)Ñ)Ô;ñ ™9Ø×Ñ˜V Z°×1CÑ1CÔDØˆrf   c              ‹  óŞ  K  — t        | j                  t        «      r| j                  n	t        «       }| j                  xs | j                  d u }|rq|rU | j                  dd|i|¤}t        |«      }|j                  ||«      ƒ d {  –—† }	t        |	t        «      r&t        |	¬«      S | j                  €nd}
t        |
«      ‚| j                  r$| j                  j                  d¬«      ƒ d {  –—†   | j                  dd|dœ|¤r»g } | j                  |fd|i|¤2 3 d {  –—† }t        |«      |j                  _        |rm|j                  j"                  €d|j$                  › |j                  _        |j'                  t)        d|j                  j*                  «      |¬	«      ƒ d {  –—†  |j-                  |«       Œ¤t3        j4                  | j6                  «      j8                  j;                  d
«      r | j6                  |f||dœ|¤ƒ d {  –—† }n | j6                  |fd|i|¤ƒ d {  –—† }t=        |j>                  «      D ]X  \  }}|r7|j                  j"                  €!d|j$                  › d|› |j                  _        t        |«      |j                  _        ŒZ tA        |j>                  «      dk(  rY|jB                  Mi |jB                  ¥|j>                  d   j                  j                   ¥|j>                  d   j                  _        |r'|r%|jE                  |j>                  «      ƒ d {  –—†  |S 7 Œ»7 ŒX7 Œ&7 Œ 6 t/        t1        |«      «      }Œ/7 ŒR7 Œ77 Œ/­w)Nr¢   ri   r2  TrÇ   r3  rÉ   rŸ   rÊ   r¯   r  r4  rÂ   r   rÍ   )#rZ   r5  r   r   r  r%   Úalookupr[   r1   rk   r‡   rã   r¾   r¸   rÖ   rN   rL   rÕ   r¦   r×   r   rK   r_   ro   rq   r7  r8  Ú
_agenerater:  r]   r\   rT   r  r  Úaupdater<  s                   rU   r&  z#BaseChatModel._agenerate_with_cache	  sF  è ø€ ô #-¨T¯Z©Z¼Ô"CD—J’JÌËˆ	ğ —j‘jÒ6 D§J¡J°$Ğ$6ˆÙÙØ1˜T×1Ñ1ÑF°tĞF¸vÑF
Ü˜x›Ø"+×"3Ñ"3°F¸JÓ"G×G	Ü˜i¬Ô.Ü%°)Ô<Ğ<Ø—‘Ğ#ØàPÜ  “oĞ%ğ
 ×ÒØ×#Ñ#×,Ñ,°dĞ,Ó;×;Ğ;ğ ˆ4×Ñğ 
ØØ#ñ
ğ ò
ğ
 13ˆFØ,˜tŸ}™}¨XÑK¸DĞKÀFÒK÷ %eÜ2LÈUÓ2S—‘Ô/ÙØ—}‘}×'Ñ'Ğ/Ø-1°+×2DÑ2DĞ1EĞ+F˜Ÿ™Ô(Ø%×6Ñ6Ü˜U E§M¡M×$9Ñ$9Ó:À%ğ 7ó ÷ ğ ğ —‘˜eÕ$ä×Ñ˜tŸ™Ó/×:Ñ:×>Ñ>¸}ÔMØ*˜4Ÿ?™?ØğØ#°ñØ@Fñ÷ ‰Fğ +˜4Ÿ?™?¨8ÑI¸$ĞIÀ&ÑI×IˆFô  )¨×);Ñ);Ö<‰OˆCÙ˜z×1Ñ1×4Ñ4Ğ<Ø*.¨{×/AÑ/AĞ.BÀ!ÀCÀ5Ğ(I
×"Ñ"Ô%Ü3MØó4ˆJ×ÑÕ0ğ  =ô ˆv×!Ñ!Ó" aÒ'¨F×,=Ñ,=Ğ,Iğ?Ø×#Ñ#ğ?à×$Ñ$ QÑ'×/Ñ/×AÑAğ?ˆF×Ñ˜qÑ!×)Ñ)Ô;ñ ™9Ø×#Ñ# F¨J¸×8JÑ8JÓK×KĞKØˆğm Hùğ <ùğ%ùğ
ùğ  Lô *¬$¨v«,Ó7ŠFğùğ Jùğ Lús   ‚BM-ÂMÂA%M-Ã-MÃ.0M-ÄMÄ"MÄ#MÄ&BM-Æ+MÆ,A'M-ÈM%ÈM-È1M(È2D	M-Ì;M+Ì<M-ÍM-ÍMÍM-ÍM-Í(M-Í+M-c                 ó   — y©zTop Level call.NrÍ   ©r™   r`   r¢   r¯   rw   s        rU   r9  zBaseChatModel._generateQ  ó    rf   c              ‹  óv   K  — t        d| j                  |||r|j                  «       ndfi |¤ƒ d{  –—† S 7 Œ­wrG  ©r;   r9  Úget_s      €@       3]   $             €Í#      $                     €@       P3]   $             €t      $                     €@       3]   $             €      $                     €@       Ğ3]   $             €˜      $                     €@       3]   $             €      $                     €@       P3]   $             €~
      $                     €@       3]   $             €       $                     €@       Ğ3]   $             €§*      $                     €@       3]   $             €0      $                     €@       P3]   $             €&      $                     €@       3]   $             €)      $                     €@       Ğ3]   $             €ˆ      $                     €@       3]   $             €b      $                     €@       P3]   $             €ï      $                     €@       3]   $             €@      $                     €@       Ğ3]   $             €±.      $                     €@       3]   $             €Ë'      $                     €@       P3]   $             €      $                     €@       3]   $             €9%      $                     €@       Ğ3]   $             €F      $                     €@       3]   $             €Ã      $                     €@       P3]   $             €w      $                     €@       3]   $             €      $                     €@       Ğ3]   $             €5	      $                     €@       3]   $             €Š&      $                     €@       P3]   $             €%      $                     €@       3]   $             €`      $                     €@       Ğ3]   $             €Ù      $                     €@       	3]   $             €ä      $                     €@       P	3]   $             €+,      $                     €@       	3]   $             €Ï       $                     €@       Ğ	3]   $             €.      $                     €@       
3]   $             €_
      $                     €@       P
3]   $             €‚      $                     €@       
3]   $             €…      $                     €@       Ğ
3]   $             €ª      $                     €@       3]   $             €ä      $                     €@       P3]   $             €à      $                     €@       3]   $             €`      $                     €@       Ğ3]   $             €ô      $                     €@       3]   $             €y      $                     €@       P3]   $             €+      $                     €@       3]   $             € %      $                     €@       Ğ3]   $             €J#      $                     €@       3]   $             €H
      $                     €@       P3]   $             €í*      $                     €@       3]   $             €"      $                     €@       Ğ3]   $             €¹      $                     €@       3]   $             €ê      $                     €@       P3]   $             €x      $                     €@       3]   $             €      $                     €@       Ğ3]   $             €&      $                     €@       3]   $             €\      $                     €@       P3]   $             €Ğ      $                     €@       3]   $             €(      $                     €@       Ğ3]   $             €ì      $                     €@       3]   $             €ô&      $                     €@       P3]   $             €@      $                     €@       3]   $             €)      $                     €@       Ğ3]   $             €ì       $                     €@       3]   $             €é      $                     €@       P3]   $             €´!      $                     €@       3]   $             €”*      $                     €@       Ğ3]   $             €,      $                     €@       3]   $             €],      $                     €@       P3]   $             €#      $                     €@       3]   $             €G	      $                     €@       Ğ3]   $             €[      $                     €@       3]   $             €õ      $                     €@       P3]   $             €U.      $                     €@       3]   $             €       $                     €@       Ğ3]   $             €      $                     €@       3]   $             €      $                     €@       P3]   $             €      $                     €@       3]   $             €İ#      $                     €@       Ğ3]   $             €u      $                     €@       3]   $             €      $                     €@       P3]   $             €¥      $                     €@       3]   $             €Z      $                     €@       Ğ3]   $             €o$      $                     €@       3]   $             €B	      $                     €@       P3]   $             €´%      $                     €@       3]   $             €f      $                     €@       Ğ3]   $             €N      $                     €@       3]   $             €’%      $                     €@       P3]   $             €¥      $                     €@       3]   $             €      $                     €@       Ğ3]   $             €Ã!      $                     €@       3]   $             €ñ#      $                     €@       P3]   $             €·      $                     €@       3]   $             €û%      $                     €@       Ğ3]   $             €~      $                     €@       3]   $             €:      $                     €@       P3]   $             €#!      $                     €@       3]   $             €¡       $                     €+       Ğ3]   $             €¤&      $                     €@       p¯¥[   $             €á      $                     €@       °¯¥[   $             €¿      $                     €@       ğ¯¥[   $             €;      $                     €@       0°¥[   $             €Œ      $                     €@       p°¥[   $             €+      $                     €@       °°¥[   $             €F      $                     €@       ğ°¥[   $             €      $                     €@       0±¥[   $             €f&      $                     €@       p±¥[   $             €Ê)      $                     €@       °±¥[   $             €      $                     €@       ğ±¥[   $             €*.      $                     €@       0²¥[   $             €â      $                     €@       p²¥[   $             €à      $                     €@       °²¥[   $             €µ      $                     €@       ğ²¥[   $             €s	      $                     €@       0³¥[   $             €"      $                     €@       p³¥[   $             €‚      $                     €@       °³¥[   $             €Ó)      $                     €@       ğ³¥[   $             €~      $                     €@       0´¥[   $             €Ì	      $                     €@       p´¥[   $             €y      $                     €@       °´¥[   $             €D      $                     €@       ğ´¥[   $             €J      $                     €@       0µ¥[   $             €×-      $                     €@       pµ¥[   $             €÷%      $                     €@       °µ¥[   $             €      $                     €@       ğµ¥[   $             €P      $                     €@       0¶¥[   $             €À$      $                     €@       p¶¥[   $             €       $                     €@       °¶¥[   $             €V      $                     €@       ğ¶¥[   $             €€	      $                     €@       0·¥[   $             €Æ
      $                     €@       p·¥[   $             €s      $                     €@       °·¥[   $             €      $                     €@       ğ·¥[   $             €×      $                     €@       0¸¥[   $             €7      $                     €@       p¸¥[   $             €I      $                     €@       °¸¥[   $             €D      $                     €@       ğ¸¥[   $             €™      $                     €@       0¹¥[   $             €+      $                     €@       p¹¥[   $             €p      $                     €@       °¹¥[   $             €      $                     €@       ğ¹¥[   $             €û      $                     €@       0º¥[   $             €S      $                     €@       pº¥[   $             €ş      $                     €@       °º¥[   $             €       $                     €@       ğº¥[   $             €'      $                     €@       0»¥[   $             €Ÿ      $                     €@       p»¥[   $             €º      $                     €@       °»¥[   $             €A'      $                     €@       ğ»¥[   $             €•      $                     €@       0¼¥[   $             €P      $                     €@       p¼¥[   $             €*      $                     €@       °¼¥[   $             €š      $                     €@       ğ¼¥[   $             €Ğ      $                     €@       0½¥[   $             €è	      $                     €@       p½¥[   $             €      $                     €@       °½¥[   $             €´$      $                     €@       ğ½¥[   $             €é%      $                     €@       0¾¥[   $             €×	      $                     €@       p¾¥[   $             €(      $                     €@       °¾¥[   $             €L*      $                     €@       ğ¾¥[   $             €,      $                     €@       0¿¥[   $             €¼!      $                     €@       p¿¥[   $             €?$      $                     €@       °¿¥[   $             €–
      $                     €@       ğ¿¥[   $             €(      $                     €@       0À¥[   $             €í      $                     €@       pÀ¥[   $             €@      $                     €@       °À¥[   $             €±      $                     €@       ğÀ¥[   $             €]      $                     €@       0Á¥[   $             €ô      $                     €@       pÁ¥[   $             €—      $                     €@       °Á¥[   $             €–      $                     €@       ğÁ¥[   $             €2-      $                     €@       0Â¥[   $             €@*      $                     €@       pÂ¥[   $             €.      $                     €@       °Â¥[   $             €ü      $                     €@       ğÂ¥[   $             €Ş      $                     €@       0Ã¥[   $             €q      $                     €@       pÃ¥[   $             €R      $                     €@       °Ã¥[   $             €U      $                     €@       ğÃ¥[   $             €O!      $                     €@       0Ä¥[   $             €,      $                     €@       pÄ¥[   $             €¨,      $                     €@       °Ä¥[   $             €3      $                     €@       ğÄ¥[   $             €¼$      $                     €@       0Å¥[   $             €Ü      $                     €@       pÅ¥[   $             €6,      $                     €@       °Å¥[   $             €Â      $                     €@       ğÅ¥[   $             €¬      $                     €@       0Æ¥[   $             €S      $                     €@       pÆ¥[   $             €ù       $                     €@       °Æ¥[   $             €+
      $                     €@       ğÆ¥[   $             €g      $                     €@       0Ç¥[   $             €k      $                     €@       pÇ¥[   $             €&      $                     €@       °Ç¥[   $             €Œ!      $                     €@       ğÇ¥[   $             €Ì      $                     €@       0È¥[   $             €      $                     €@       pÈ¥[   $             €p      $                     €@       °È¥[   $             €z%      $                     €@       ğÈ¥[   $             €Õ      $                     €@       0É¥[   $             €'      $                     €@       pÉ¥[   $             €Ã$      $                     €@       °É¥[   $             € 
      $                     €@       ğÉ¥[   $             €k      $                     €@       0Ê¥[   $             €Ü      $                     €@       pÊ¥[   $             €¨#      $                     €@       °Ê¥[   $             €S,      $                     €@       ğÊ¥[   $             €3!      $                     €@       0Ë¥[   $             €ö#      $                     €@       pË¥[   $             €S      $                     €@       °Ë¥[   $             €N      $                     €@       ğË¥[   $             €      $                     €@       0Ì¥[   $             €U"      $                     €@       pÌ¥[   $             €¹      $                     €@       °Ì¥[   $             €©      $                     €@       ğÌ¥[   $             €3+      $                     €@       0Í¥[   $             €`       $                     €@       pÍ¥[   $             €T      $                     €@       °Í¥[   $             €Ñ      $                     €@       ğÍ¥[   $             €$      $                     €@       0Î¥[   $             €9&      $                     €@       pÎ¥[   $             €+      $                     €@       °Î¥[   $             €      $                     €@       ğÎ¥[   $             €      $                     €@       0Ï¥[   $             €ß      $                     €@       pÏ¥[   $             €—      $                     €@       °Ï¥[   $             €K       $                     €@       ğÏ¥[   $             €B      $                     €@       0Ğ¥[   $             €`      $                     €@       pĞ¥[   $             €¢      $                     €@       °Ğ¥[   $             €²      $                     €@       ğĞ¥[   $             €l      $                     €@       0Ñ¥[   $             €:      $                     €@       pÑ¥[   $             €)       $                     €@       °Ñ¥[   $             €.      $                     €@       ğÑ¥[   $             €Ÿ      $                     €@       0Ò¥[   $             €,      $                     €@       pÒ¥[   $             €¿"      $                     €@       °Ò¥[   $             €%-      $                     €@       ğÒ¥[   $             €¢      $                     €@       0Ó¥[   $             €…      $                     €@       pÓ¥[   $             €b       $                     €@       °Ó¥[   $             €¼.      $                     €@       ğÓ¥[   $             €•"      $                     €@       0Ô¥[   $             €8      $                     €@       pÔ¥[   $             €²      $                     €@       °Ô¥[   $             €c      $                     €@       ğÔ¥[   $             €í      $                     €@       0Õ¥[   $             €ñ!      $                     €@       pÕ¥[   $             €Î#      $                     €@       °Õ¥[   $             €@        öwY   $             €İ<      $                     €@       `öwY   $             €ë      $                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               